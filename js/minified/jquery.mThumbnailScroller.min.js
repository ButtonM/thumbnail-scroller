/* == jquery thumbnail/image scroller plugin == Version: 2.0.0, License: MIT License (MIT) */
(function(e,t,n,r){var i="mThumbnailScroller",s="mTS",o=".mThumbnailScroller",u={setWidth:false,setHeight:false,setTop:0,setLeft:0,type:"hover-50",axis:"x",speed:15,contentTouchScroll:25,markup:{thumbnailsContainer:false,thumbnailContainer:false,thumbnailElement:false,buttonsPlaceholder:false,buttonsHTML:{up:"SVG set 1",down:"SVG set 1",left:"SVG set 1",right:"SVG set 1"}},advanced:{autoExpandHorizontalScroll:true,updateOnContentResize:true,updateOnImageLoad:true,updateOnSelectorChange:false},theme:"none",callbacks:{onInit:false,onScrollStart:false,onScroll:false,onTotalScroll:false,onTotalScrollBack:false,whileScrolling:false,onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:true},live:false,liveSelector:null},a=0,f={},l=function(e){if(f[e]){clearTimeout(f[e]);v._delete.call(null,f[e])}},c=t.attachEvent&&!t.addEventListener?1:0,h=false,p,d={init:function(t){var t=e.extend(true,{},u,t),n=v._selector.call(this);if(t.live){var r=t.liveSelector||this.selector||o,i=e(r);if(t.live==="off"){l(r);return}f[r]=setTimeout(function(){i.mThumbnailScroller(t);if(t.live==="once"&&i.length){l(r)}},500)}else{l(r)}t.speed=t.speed===0?100:t.speed;v._theme.call(null,t);return e(n).each(function(){var n=e(this);if(!n.data(s)){n.data(s,{idx:++a,opt:t,html:null,overflowed:null,bindEvents:false,tweenRunning:false,langDir:n.css("direction"),cbOffsets:null,trigger:null});var r=n.data(s).opt,i=n.data("mts-type"),o=n.data("mts-theme");if(i){r.type=i}if(o){r.theme=o;v._theme.call(null,r)}v._pluginMarkup.call(this);d.update.call(null,n)}})},update:function(t){var n=t||v._selector.call(this);return e(n).each(function(){var t=e(this);if(t.data(s)){var n=t.data(s),r=n.opt,i=e("#mTS_"+n.idx+"_container");if(!i.length){return}if(n.tweenRunning){v._stop.call(null,t)}if(t.hasClass("mTS_disabled")){t.removeClass("mTS_disabled")}if(t.hasClass("mTS_destroyed")){t.removeClass("mTS_destroyed")}v._maxHeight.call(this);v._expandContentHorizontally.call(this);n.overflowed=v._overflowed.call(this);v._buttonsVisibility.call(this);v._bindEvents.call(this);var o=[i[0].offsetTop,i[0].offsetLeft];if(r.axis!=="x"){if(!n.overflowed[0]){v._resetContentPosition.call(this);if(r.axis==="y"){v._unbindEvents.call(this)}else if(r.axis==="yx"&&n.overflowed[1]){v._scrollTo.call(this,t,o[1].toString(),{dir:"x",dur:0,overwrite:"none"})}}else{v._scrollTo.call(this,t,o[0].toString(),{dir:"y",dur:0,overwrite:"none"})}}if(r.axis!=="y"){if(!n.overflowed[1]){v._resetContentPosition.call(this);if(r.axis==="x"){v._unbindEvents.call(this)}else if(r.axis==="yx"&&n.overflowed[0]){v._scrollTo.call(this,t,o[0].toString(),{dir:"y",dur:0,overwrite:"none"})}}else{v._scrollTo.call(this,t,o[1].toString(),{dir:"x",dur:0,overwrite:"none"})}}if(!n.overflowed[0]&&!n.overflowed[1]){t.addClass("mTS_no_scroll")}else{t.removeClass("mTS_no_scroll")}v._autoUpdate.call(this)}})},scrollTo:function(t,n){if(typeof t=="undefined"||t==null){return}var r=v._selector.call(this);return e(r).each(function(){var r=e(this);if(r.data(s)){var i=r.data(s),o=i.opt,u={trigger:"external",speed:o.speed,duration:1e3,easing:"easeInOut",callbacks:true,onStart:true,onUpdate:true,onComplete:true},a=e.extend(true,{},u,n),f=v._arr.call(this,t),l=a.duration?a.duration:7e3/(a.speed||1);f[0]=v._to.call(this,f[0],"y");f[1]=v._to.call(this,f[1],"x");a.dur=l>0&&l<17?17:l;setTimeout(function(){if(f[0]!==null&&typeof f[0]!=="undefined"&&o.axis!=="x"&&i.overflowed[0]){a.dir="y";a.overwrite="all";v._scrollTo.call(this,r,-f[0].toString(),a)}if(f[1]!==null&&typeof f[1]!=="undefined"&&o.axis!=="y"&&i.overflowed[1]){a.dir="x";a.overwrite="none";v._scrollTo.call(this,r,-f[1].toString(),a)}},60)}})},stop:function(){var t=v._selector.call(this);return e(t).each(function(){var t=e(this);if(t.data(s)){v._stop.call(null,t)}})},disable:function(t){var n=v._selector.call(this);return e(n).each(function(){var n=e(this);if(n.data(s)){var r=n.data(s),i=r.opt;v._autoUpdate.call(this,"remove");v._unbindEvents.call(this);if(t){v._resetContentPosition.call(this)}v._buttonsVisibility.call(this,true);n.addClass("mTS_disabled")}})},destroy:function(){var t=v._selector.call(this);return e(t).each(function(){var n=e(this);if(n.data(s)){var r=n.data(s),o=r.opt,u=e("#mTS_"+r.idx),a=e("#mTS_"+r.idx+"_container"),f=e("#mTS_"+r.idx+"_buttonUp,#mTS_"+r.idx+"_buttonDown,#mTS_"+r.idx+"_buttonLeft,#mTS_"+r.idx+"_buttonRight");if(o.live){l(t)}v._autoUpdate.call(this,"remove");v._unbindEvents.call(this);v._resetContentPosition.call(this);n.removeData(s);v._delete.call(null,this.mts);f.remove();u.replaceWith(r.html);n.removeClass(i+" _"+s+"_"+r.idx+" "+s+"-"+o.theme+" mTS_no_scroll mTS_disabled").addClass("mTS_destroyed")}})}},v={_selector:function(){return typeof e(this)!=="object"||e(this).length<1?o:this},_theme:function(t){var n=["buttons-out"],r=["buttons-in"],i=["buttons-out"],s=["hover-classic"],o=["hover-full"];t.markup.buttonsPlaceholder=e.inArray(t.theme,n)>-1?"outside":t.markup.buttonsPlaceholder;t.markup.buttonsHTML=e.inArray(t.theme,r)>-1?{up:"SVG set 2",down:"SVG set 2",left:"SVG set 2",right:"SVG set 2"}:e.inArray(t.theme,i)>-1?{up:"SVG set 3",down:"SVG set 3",left:"SVG set 3",right:"SVG set 3"}:t.markup.buttonsHTML;t.type=e.inArray(t.theme,s)>-1?"hover-85":e.inArray(t.theme,o)>-1?"hover-precise":t.type;t.speed=e.inArray(t.theme,s)>-1?60:e.inArray(t.theme,o)>-1?10:t.speed},_pluginMarkup:function(){var t=e(this),n=t.data(s),r=n.opt,o=r.axis==="yx"?"mTS_vertical_horizontal":r.axis==="x"?"mTS_horizontal":"mTS_vertical",u=r.markup.thumbnailsContainer||"ul",a=r.markup.thumbnailContainer||"li",f=r.markup.thumbnailElement||"img";n.html=t.children().clone(true,true);if(!t.find(u).length){var l=t.find("li").length?"<ul class='"+s+"AutoContainer' />":"<div class='"+s+"AutoContainer' />";t.wrapInner(l);u="."+s+"AutoContainer"}if(r.setWidth){t.css("width",r.setWidth)}if(r.setHeight){t.css("height",r.setHeight)}r.setLeft=r.axis!=="y"&&n.langDir==="rtl"?"-989999px":r.setLeft;t.addClass(i+" _"+s+"_"+n.idx+" "+s+"-"+r.theme).find(u).wrap("<div id='mTS_"+n.idx+"' class='mTSWrapper "+o+"' />").addClass(s+"Container").attr("id","mTS_"+n.idx+"_container").css({position:"relative",top:r.setTop,left:r.setLeft}).find(a).addClass(s+"ThumbContainer").find(f).addClass(s+"Thumb");v._scrollButtons.call(this)},_expandContentHorizontally:function(){var t=e(this),n=t.data(s),r=n.opt,i=e("#mTS_"+n.idx+"_container");if(r.advanced.autoExpandHorizontalScroll&&r.axis!=="y"){i.css({position:"absolute",width:"auto"}).wrap("<div class='mTS_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right)-Math.floor(i[0].getBoundingClientRect().left),position:"relative"}).unwrap()}},_scrollButtons:function(){var t=e(this),n=t.data(s),r=n.opt,o=!r.markup.buttonsPlaceholder?e("#mTS_"+n.idx):r.markup.buttonsPlaceholder==="outside"?t:e(r.markup.buttonsPlaceholder),u=["<a href='#' id='mTS_"+n.idx+"_buttonUp' class='mTSButton mTSButtonUp'><span class='mTSButtonIconContainer'>"+v._scrollButtonsIcons.call(this,"up")+"</span></a>","<a href='#' id='mTS_"+n.idx+"_buttonDown' class='mTSButton mTSButtonDown'><span class='mTSButtonIconContainer'>"+v._scrollButtonsIcons.call(this,"down")+"</span></a>","<a href='#' id='mTS_"+n.idx+"_buttonLeft' class='mTSButton mTSButtonLeft'><span class='mTSButtonIconContainer'>"+v._scrollButtonsIcons.call(this,"left")+"</span></a>","<a href='#' id='mTS_"+n.idx+"_buttonRight' class='mTSButton mTSButtonRight'><span class='mTSButtonIconContainer'>"+v._scrollButtonsIcons.call(this,"right")+"</span></a>"],a=[r.axis==="x"?u[2]:u[0],r.axis==="x"?u[3]:u[1]];if(o.hasClass(i)&&o.css("position")==="static"){o.css("position","relative")}if(r.type.indexOf("click")!==-1){if(r.axis!=="x"){o.append(u[0]+u[1])}if(r.axis!=="y"){o.append(u[2]+u[3])}}},_scrollButtonsIcons:function(t){var n=e(this),r=n.data(s),i=r.opt,o=i.markup.buttonsHTML,u=o[t]==="SVG set 1"?0:o[t]==="SVG set 2"?1:o[t]==="SVG set 3"?2:o[t]==="SVG set 4"?3:o[t]==="SVG set 5"?4:null;switch(t){case"up":return u===null?o[t]:c?"&uarr;":v._icons(o[t])[u][0];break;case"down":return u===null?o[t]:c?"&darr;":v._icons(o[t])[u][1];break;case"left":return u===null?o[t]:c?"&larr;":v._icons(o[t])[u][2];break;case"right":return u===null?o[t]:c?"&rarr;":v._icons(o[t])[u][3];break}},_icons:function(){var e="<svg version='1.1' viewBox='0 0 24 24' preserveAspectRatio='xMinYMin meet' class='mTSButtonIcon'><g><line stroke-width='1' x1='' y1='' x2='' y2='' stroke='#449FDB' opacity=''></line></g>",t="</svg>";return[[e+"<path d='M20.561 9.439l-7.5-7.5c-0.586-0.586-1.535-0.586-2.121 0l-7.5 7.5c-0.586 0.586-0.586 1.536 0 2.121s1.536 0.586 2.121 0l4.939-4.939v14.379c0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5v-14.379l4.939 4.939c0.293 0.293 0.677 0.439 1.061 0.439s0.768-0.146 1.061-0.439c0.586-0.586 0.586-1.535 0-2.121z'></path>"+t,e+"<path d='M3.439 14.561l7.5 7.5c0.586 0.586 1.536 0.586 2.121 0l7.5-7.5c0.586-0.586 0.586-1.536 0-2.121s-1.536-0.586-2.121 0l-4.939 4.939v-14.379c0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5v14.379l-4.939-4.939c-0.293-0.293-0.677-0.439-1.061-0.439s-0.768 0.146-1.061 0.439c-0.586 0.586-0.586 1.536 0 2.121z'></path>"+t,e+"<path d='M9.439 3.439l-7.5 7.5c-0.586 0.586-0.586 1.536 0 2.121l7.5 7.5c0.586 0.586 1.536 0.586 2.121 0s0.586-1.536 0-2.121l-4.939-4.939h14.379c0.828 0 1.5-0.672 1.5-1.5s-0.672-1.5-1.5-1.5h-14.379l4.939-4.939c0.293-0.293 0.439-0.677 0.439-1.061s-0.146-0.768-0.439-1.061c-0.586-0.586-1.536-0.586-2.121 0z'></path>"+t,e+"<path d='M14.561 20.561l7.5-7.5c0.586-0.586 0.586-1.536 0-2.121l-7.5-7.5c-0.586-0.586-1.536-0.586-2.121 0s-0.586 1.536 0 2.121l4.939 4.939h-14.379c-0.828 0-1.5 0.672-1.5 1.5s0.672 1.5 1.5 1.5h14.379l-4.939 4.939c-0.293 0.293-0.439 0.677-0.439 1.061s0.146 0.768 0.439 1.061c0.586 0.586 1.536 0.586 2.121 0z'></path>"+t],[e+"<path d='M18.58 13.724c-0.488-0.502-5.634-5.402-5.634-5.402-0.262-0.268-0.604-0.402-0.946-0.402-0.343 0-0.685 0.134-0.946 0.402 0 0-5.146 4.901-5.635 5.402-0.488 0.502-0.522 1.404 0 1.939 0.523 0.534 1.252 0.577 1.891 0l4.69-4.496 4.688 4.496c0.641 0.577 1.37 0.534 1.891 0 0.523-0.536 0.491-1.439 0-1.939z'</path>"+t,e+"<path d='M18.58 10.276c-0.488 0.502-5.634 5.404-5.634 5.404-0.262 0.268-0.604 0.401-0.946 0.401-0.343 0-0.685-0.133-0.946-0.401 0 0-5.146-4.902-5.635-5.404-0.488-0.502-0.522-1.403 0-1.939 0.523-0.535 1.252-0.577 1.891 0l4.69 4.498 4.688-4.496c0.641-0.577 1.37-0.535 1.891 0 0.523 0.535 0.491 1.438 0 1.938z'></path>"+t,e+"<path d='M13.724 5.419c-0.502 0.49-5.402 5.635-5.402 5.635-0.268 0.262-0.401 0.604-0.401 0.946s0.133 0.684 0.401 0.946c0 0 4.901 5.146 5.402 5.634 0.502 0.49 1.404 0.523 1.939 0 0.534-0.522 0.576-1.25-0.001-1.89l-4.496-4.69 4.496-4.69c0.577-0.641 0.535-1.369 0.001-1.891-0.536-0.522-1.439-0.49-1.939 0z'></path>"+t,e+"<path d='M10.276 5.419c0.502 0.49 5.402 5.635 5.402 5.635 0.269 0.262 0.402 0.604 0.402 0.946s-0.133 0.684-0.402 0.946c0 0-4.901 5.146-5.402 5.634-0.502 0.49-1.403 0.523-1.939 0-0.535-0.522-0.577-1.25 0-1.89l4.498-4.69-4.496-4.69c-0.577-0.641-0.535-1.369 0-1.891s1.438-0.49 1.938 0z'></path>"+t],[e+"<path d='M20.902 17.279c0.325 0.322 0.851 0.322 1.175 0 0.325-0.322 0.325-0.841 0-1.163l-9.49-9.396c-0.324-0.322-0.85-0.322-1.174 0l-9.49 9.396c-0.324 0.322-0.325 0.841 0 1.163s0.85 0.322 1.175 0l8.902-8.569 8.902 8.569z'></path>"+t,e+"<path d='M3.098 6.721c-0.325-0.322-0.851-0.322-1.175 0-0.324 0.32-0.324 0.841 0 1.163l9.49 9.396c0.325 0.322 0.85 0.322 1.175 0l9.49-9.396c0.324-0.322 0.325-0.841 0-1.163s-0.852-0.322-1.175-0.001l-8.903 8.569-8.902-8.568z'></path>"+t,e+"<path d='M17.279 20.902c0.322 0.325 0.322 0.85 0 1.175s-0.841 0.325-1.163 0l-9.396-9.488c-0.322-0.325-0.322-0.851 0-1.175l9.396-9.49c0.322-0.325 0.841-0.325 1.163 0s0.322 0.85 0 1.175l-8.568 8.902 8.568 8.902z'</path>"+t,e+"<path d='M6.72 20.902c-0.322 0.325-0.322 0.85 0 1.175s0.841 0.325 1.163 0l9.396-9.488c0.322-0.325 0.322-0.851 0-1.175l-9.396-9.49c-0.322-0.325-0.841-0.325-1.163 0s-0.322 0.85 0 1.175l8.568 8.902-8.568 8.902z'</path>"+t],[e+"<path d='M12 0l-12 12h7.5v12l9 0v-12h7.5z'></path>"+t,e+"<path d='M12 24l12-12h-7.5v-12l-9-0v12h-7.5z'></path>"+t,e+"<path d='M0 12l12 12v-7.5h12l0-9h-12v-7.5z'></path>"+t,e+"<path d='M24 12l-12-12v7.5h-12l-0 9h12v7.5z'></path>"+t],[e+"<path d='M6.48 16.8h11.040l-5.521-9.6z'></path>"+t,e+"<path d='M17.52 7.201l-11.040-0.001 5.52 9.6z'></path>"+t,e+"<path d='M16.799 6.48l0.001 11.040-9.6-5.52z'></path>"+t,e+"<path d='M7.201 6.48l-0.001 11.040 9.6-5.52z'></path>"+t]]},_maxHeight:function(){var t=e(this),n=t.data(s),r=n.opt,i=e("#mTS_"+n.idx),o=t.css("max-height"),u=o.indexOf("%")!==-1,a=t.css("box-sizing");if(o!=="none"){var f=u?t.parent().height()*parseInt(o)/100:parseInt(o);if(a==="border-box"){f-=t.innerHeight()-t.height()+(t.outerHeight()-t.innerHeight())}i.css("max-height",Math.round(f))}},_overflowed:function(){var t=e(this),n=t.data(s),r=e("#mTS_"+n.idx),i=e("#mTS_"+n.idx+"_container");return[i.height()>r.height(),i.width()>r.width()]},_resetContentPosition:function(){var t=e(this),n=t.data(s),r=n.opt,i=e("#mTS_"+n.idx),o=e("#mTS_"+n.idx+"_container");v._stop(t);if(r.axis!=="x"&&!n.overflowed[0]||r.axis==="y"&&n.overflowed[0]){o.css("top",0)}if(r.axis!=="y"&&!n.overflowed[1]||r.axis==="x"&&n.overflowed[1]){var u=n.langDir==="rtl"?i.width()-o.width():0;o.css("left",u)}},_bindEvents:function(){var t=e(this),n=t.data(s),r=n.opt;if(!n.bindEvents){if(r.contentTouchScroll){v._contentDraggable.call(this)}if(r.type.indexOf("hover")!==-1){if(r.type==="hover-precise"){v._hoverPrecise.call(this)}else{v._hover.call(this)}}else if(r.type.indexOf("click")!==-1){v._click.call(this)}n.bindEvents=true}},_unbindEvents:function(){var t=e(this),n=t.data(s),r=s+"_"+n.idx,i=e("#mTS_"+n.idx+",#mTS_"+n.idx+"_container,#mTS_"+n.idx+"_buttonUp,#mTS_"+n.idx+"_buttonDown,#mTS_"+n.idx+"_buttonLeft,#mTS_"+n.idx+"_buttonRight"),o=e("#mTS_"+n.idx+"_container");if(n.bindEvents){i.each(function(){e(this).unbind("."+r)});clearTimeout(o[0].onCompleteTimeout);v._delete.call(null,o[0].onCompleteTimeout);n.bindEvents=false}},_buttonsVisibility:function(t,n,r){var i=e(this),o=i.data(s),u=o.opt;if(u.type.indexOf("click")!==-1){if(!r){r=u.axis}var a=[e("#mTS_"+o.idx+"_buttonUp"),e("#mTS_"+o.idx+"_buttonDown"),e("#mTS_"+o.idx+"_buttonLeft"),e("#mTS_"+o.idx+"_buttonRight")],f=s+"-hidden";if(r!=="x"){if(o.overflowed[0]&&!t&&!n){sel=[!o.overflowed[1]?a[2].add(a[3]):null,a[0].add(a[1])]}else{sel=n===1?[a[0],a[1]]:n===2?[a[1],a[0]]:[a[0].add(a[1]),null]}}if(r!=="y"){if(o.overflowed[1]&&!t&&!n){sel=[!o.overflowed[0]?a[0].add(a[1]):null,a[2].add(a[3])]}else{sel=n===1?[a[2],a[3]]:n===2?[a[3],a[2]]:[a[2].add(a[3]),null]}}if(sel[0]){sel[0].addClass(f)}if(sel[1]){sel[1].removeClass(f)}}},_coordinates:function(e){var t=e.type;switch(t){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return[e.originalEvent.pageY,e.originalEvent.pageX];break;case"touchstart":case"touchmove":case"touchend":var n=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];return[n.pageY,n.pageX];break;default:return[e.pageY,e.pageX]}},_inputType:function(e){return p||e.type.indexOf("touch")!==-1||typeof e.pointerType!=="undefined"&&(e.pointerType===2||e.pointerType==="touch")?"touch":"mouse"},_contentDraggable:function(){function k(e,t){var n=[t*1.5,t*2,t/1.5,t/2];if(e>90){return t>4?n[0]:n[3]}else if(e>60){return t>3?n[3]:n[2]}else if(e>30){return t>8?n[1]:t>6?n[0]:t>4?t:n[2]}else{return t>8?t:n[3]}}function L(e,n,r,i,s){if(!e){return}v._scrollTo(t,-e.toString(),{dur:n,easing:r,dir:i,overwrite:s})}var t=e(this),n=t.data(s),r=n.opt,i=s+"_"+n.idx,o=e("#mTS_"+n.idx),u=e("#mTS_"+n.idx+"_container"),a,f,l,c,d=[],m=[],g,y,b,w,E,S,x=0,T,N=r.axis==="yx"?"none":"all",C=[];u.bind("touchstart."+i+" pointerdown."+i+" MSPointerDown."+i,function(e){if(!v._pointerTouch(e)||h){return}var t=u.offset();a=v._coordinates(e)[0]-t.top;f=v._coordinates(e)[1]-t.left;C=[v._coordinates(e)[0],v._coordinates(e)[1]]}).bind("touchmove."+i+" pointermove."+i+" MSPointerMove."+i,function(e){if(!v._pointerTouch(e)||h){return}e.stopImmediatePropagation();y=v._getTime();var t=o.offset(),i=v._coordinates(e)[0]-t.top,s=v._coordinates(e)[1]-t.left,l="linearOut";d.push(i);m.push(s);C[2]=Math.abs(v._coordinates(e)[0]-C[0]);C[3]=Math.abs(v._coordinates(e)[1]-C[1]);if(n.overflowed[0]){var c=o.height()-u.height(),p=a-i>0&&i-a>c&&C[3]*2<C[2]}if(n.overflowed[1]){var g=o.width()-u.width(),b=f-s>0&&s-f>g&&C[2]*2<C[3]}if(p||b){e.preventDefault()}S=r.axis==="yx"?[a-i,f-s]:r.axis==="x"?[null,f-s]:[a-i,null];u[0].idleTimer=250;if(n.overflowed[0]){L(S[0],x,l,"y","all")}if(n.overflowed[1]){L(S[1],x,l,"x",N)}});o.bind("touchstart."+i+" pointerdown."+i+" MSPointerDown."+i,function(e){if(!v._pointerTouch(e)||h){return}e.stopImmediatePropagation();p=true;v._stop(t);g=v._getTime();var n=o.offset();l=v._coordinates(e)[0]-n.top;c=v._coordinates(e)[1]-n.left;d=[];m=[]}).bind("touchend."+i+" pointerup."+i+" MSPointerUp."+i,function(e){if(!v._pointerTouch(e)||h){return}e.stopImmediatePropagation();b=v._getTime();var t=o.offset(),i=v._coordinates(e)[0]-t.top,s=v._coordinates(e)[1]-t.left;if(b-y>30){return}E=1e3/(b-g);var a="easeOut",f=E<2.5,p=f?[d[d.length-2],m[m.length-2]]:[0,0];w=f?[i-p[0],s-p[1]]:[i-l,s-c];var x=[Math.abs(w[0]),Math.abs(w[1])];E=f?[Math.abs(w[0]/4),Math.abs(w[1]/4)]:[E,E];var C=[Math.abs(u[0].offsetTop)-w[0]*k(x[0]/E[0],E[0]),Math.abs(u[0].offsetLeft)-w[1]*k(x[1]/E[1],E[1])];S=r.axis==="yx"?[C[0],C[1]]:r.axis==="x"?[null,C[1]]:[C[0],null];T=[x[0]*4+r.speed*60,x[1]*4+r.speed*60];var A=parseInt(r.contentTouchScroll)||0;S[0]=x[0]>A?S[0]:0;S[1]=x[1]>A?S[1]:0;if(n.overflowed[0]){L(S[0],T[0],a,"y",N)}if(n.overflowed[1]){L(S[1],T[1],a,"x",N)}})},_hoverPrecise:function(){var n=e(this),r=n.data(s),i=r.opt,o=s+"_"+r.idx,u=e("#mTS_"+r.idx),a=e("#mTS_"+r.idx+"_container"),f=t.navigator.pointerEnabled?"pointermove":t.navigator.msPointerEnabled?"MSPointerMove":"mousemove",l,c,h;u.bind(f+"."+o,function(e){if(v._inputType(e.originalEvent||e)==="touch"||!r.overflowed[0]&&!r.overflowed[1]){return}e.preventDefault();var t=u.height(),s=a.height(),o=u.width(),f=a.width(),p=f/o*7e3/(i.speed||1);l=[v._coordinates(e)[0]-u.offset().top,v._coordinates(e)[1]-u.offset().left];c=[l[0]/u.height(),l[1]/u.width()];h=[Math.round(-((s-t)*c[0])),Math.round(-((f-o)*c[1]))];if(i.axis!=="x"&&r.overflowed[0]){v._scrollTo(n,h[0].toString(),{dir:"y",dur:p,easing:"easeOut"})}if(i.axis!=="y"&&r.overflowed[1]){v._scrollTo(n,h[1].toString(),{dir:"x",dur:p,easing:"easeOut"})}})},_hover:function(){function E(){if(u[0].rAF){return}l=!t.requestAnimationFrame?function(e){return setTimeout(e,17)}:t.requestAnimationFrame;u[0].rAF=l(x)}function S(){if(u[0].rAF==null){return}if(!t.requestAnimationFrame){clearTimeout(u[0].rAF)}else{t.cancelAnimationFrame(u[0].rAF)}clearTimeout(d);u[0].rAF=null}function x(){p=[h[0]+a[0].offsetTop,h[1]+a[0].offsetLeft];var e=[u.height()-a.height(),u.width()-a.width()];if(i.axis!=="x"&&r.overflowed[0]){p[0]=p[0]>0?0:p[0]<e[0]?e[0]:p[0];if(h[0]&&!w[0]){v._scrollTo(n,p[0],{dir:"y",dur:0,easing:"linear"})}if(p[0]>=0||p[0]<=e[0]){w[0]=1}}if(i.axis!=="y"&&r.overflowed[1]){p[1]=p[1]>0?0:p[1]<e[1]?e[1]:p[1];if(h[1]&&!w[1]){v._scrollTo(n,p[1],{dir:"x",dur:0,easing:"linear"})}if(p[1]>=0||p[1]<=e[1]){w[1]=1}}d=setTimeout(function(){u[0].rAF=l(x)},m)}var n=e(this),r=n.data(s),i=r.opt,o=s+"_"+r.idx,u=e("#mTS_"+r.idx),a=e("#mTS_"+r.idx+"_container"),f=t.navigator.pointerEnabled?["pointerover","pointermove","pointerout"]:t.navigator.msPointerEnabled?["MSPointerOver","MSPointerMove","MSPointerOut"]:["mouseenter","mousemove","mouseleave"],l,c,h,p,d,m=!t.requestAnimationFrame?17:0,g=i.speed,y=parseInt(i.type.split("hover-")[1])||1,b=g*y/100,w=[0,0];u.bind(f[0]+"."+o,function(e){if(v._inputType(e.originalEvent||e)==="touch"||!r.overflowed[0]&&!r.overflowed[1]){return}E()}).bind(f[1]+"."+o,function(e){if(v._inputType(e.originalEvent||e)==="touch"||!r.overflowed[0]&&!r.overflowed[1]){return}c=[v._coordinates(e)[0]-u.offset().top,v._coordinates(e)[1]-u.offset().left];h=[Math.round(Math.cos(c[0]/u.height()*Math.PI)*g),Math.round(Math.cos(c[1]/u.width()*Math.PI)*g)];h[0]=h[0]<=-b?h[0]+=b:h[0]>=b?h[0]-=b:h[0]=0;h[1]=h[1]<=-b?h[1]+=b:h[1]>=b?h[1]-=b:h[1]=0;w=[0,0]}).bind(f[2]+"."+o,function(e){if(v._inputType(e.originalEvent||e)==="touch"||!r.overflowed[0]&&!r.overflowed[1]){return}S()})},_click:function(){var t=e(this),n=t.data(s),r=n.opt,i=s+"_"+n.idx,o=e("#mTS_"+n.idx),u=e("#mTS_"+n.idx+"_container"),a=[e("#mTS_"+n.idx+"_buttonUp"),e("#mTS_"+n.idx+"_buttonDown"),e("#mTS_"+n.idx+"_buttonLeft"),e("#mTS_"+n.idx+"_buttonRight")],f=a[0].add(a[1]).add(a[2]).add(a[3]);f.bind("click."+i,function(i){if(!v._mouseBtnLeft(i)||!n.overflowed[0]&&!n.overflowed[1]){return}i.preventDefault();if(n.tweenRunning){return}if(r.axis!=="x"&&n.overflowed[0]){var s=o.height(),a=r.type==="click-thumb"?0:e(this).hasClass("mTSButtonUp")?"+=":e(this).hasClass("mTSButtonDown")?"-=":0;if(r.type!=="click-thumb"){var f=parseInt(r.type.split("click-")[1])||1,l=a?[a+s*f/100,null]:0}else{var c=v._firstLast.call(t[0])[0],h=v._firstLast.call(t[0])[1];if(e(this).hasClass("mTSButtonDown")){var l=h?h[0].offsetTop-parseInt(h.css("margin-bottom"))-s:989999}else if(e(this).hasClass("mTSButtonUp")){var l=c?c[0].offsetTop-parseInt(c.css("margin-top")):0;if(u[0].offsetTop===0){return}}}}if(r.axis!=="y"&&n.overflowed[1]){var p=o.width(),a=r.type==="click-thumb"?0:e(this).hasClass("mTSButtonLeft")?"+=":e(this).hasClass("mTSButtonRight")?"-=":0;if(r.type!=="click-thumb"){var f=parseInt(r.type.split("click-")[1])||1,l=a?[null,a+p*f/100]:l}else{var c=v._firstLast.call(t[0])[2],h=v._firstLast.call(t[0])[3];if(e(this).hasClass("mTSButtonRight")){var l=h?h[0].offsetLeft-parseInt(h.css("margin-right"))-p:989999}else if(e(this).hasClass("mTSButtonLeft")){var l=c?c[0].offsetLeft-parseInt(c.css("margin-left")):0;if(u[0].offsetLeft===0){return}}}}if(l!==null){d.scrollTo.call(t[0],l,{duration:0})}})},_firstLast:function(){var t=e(this),n=t.data(s),r=n.opt,i=e("#mTS_"+n.idx+"_container"),o=e("#mTS_"+n.idx),u=i.find(".mTSThumbContainer"),a,f,l,c;u.each(function(){var t=e(this),n=[Math.round(t.offset().top-i.offset().top+i[0].offsetTop),Math.round(t.offset().left-i.offset().left+i[0].offsetLeft)];if(n[0]<=0-parseInt(t.css("margin-top"))){a=n[0]===0?u.eq(t.index()-1):u.eq(t.index())}else if(n[0]<=o.height()+parseInt(t.css("margin-bottom"))){var r=u.eq(t.index()+1);f=r.length?r:null}if(n[1]<=0-parseInt(t.css("margin-left"))){l=n[1]===0?u.eq(t.index()-1):u.eq(t.index())}else if(n[1]<=o.width()+parseInt(t.css("margin-right"))){var s=u.eq(t.index()+1);c=s.length?s:null}});return[a,f,l,c]},_arr:function(t){var n=e(this).data(s).opt,r=[];if(typeof t==="function"){t=t()}if(!(t instanceof Array)){r[0]=t.y?t.y:t.x||n.axis==="x"?null:t;r[1]=t.x?t.x:t.y||n.axis==="y"?null:t}else{r=t.length>1?[t[0],t[1]]:n.axis==="x"?[null,t[0]]:[t[0],null]}if(typeof r[0]==="function"){r[0]=r[0]()}if(typeof r[1]==="function"){r[1]=r[1]()}return r},_to:function(t,n){if(t==null||typeof t=="undefined"){return}var r=e(this),i=r.data(s),o=i.opt,u=e("#mTS_"+i.idx),a=e("#mTS_"+i.idx+"_container"),f=typeof t;if(!n){n=o.axis==="x"?"x":"y"}var l=n==="x"?a.width():a.height(),c=n==="x"?a.offset().left:a.offset().top,h=n==="x"?a[0].offsetLeft:a[0].offsetTop,p=n==="x"?"left":"top";switch(f){case"function":return t();break;case"object":if(t.nodeType){var m=n==="x"?e(t).offset().left:e(t).offset().top}else if(t.jquery){if(!t.length){return}var m=n==="x"?t.offset().left:t.offset().top}return m-c;break;case"string":case"number":if(v._isNumeric.call(null,t)){return Math.abs(t)}else if(t.indexOf("%")!==-1){return Math.abs(l*parseInt(t)/100)}else if(t.indexOf("-=")!==-1){return Math.abs(h-parseInt(t.split("-=")[1]))}else if(t.indexOf("+=")!==-1){var g=h+parseInt(t.split("+=")[1]);return g>=0?0:Math.abs(g)}else if(t.indexOf("px")!==-1&&v._isNumeric.call(null,t.split("px")[0])){return Math.abs(t.split("px")[0])}else{if(t==="top"||t==="left"){return 0}else if(t==="bottom"){return Math.abs(u.height()-a.height())}else if(t==="right"){return Math.abs(u.width()-a.width())}else if(t==="first"||t==="last"){var y=a.find(":"+t),m=n==="x"?e(y).offset().left:e(y).offset().top;return m-c}else{if(e(t).length){var m=n==="x"?e(t).offset().left:e(t).offset().top;return m-c}else{a.css(p,t);d.update.call(null,r[0]);return}}}break}},_autoUpdate:function(t){function m(){clearTimeout(u[0].autoUpdate);u[0].autoUpdate=setTimeout(function(){if(i.advanced.updateOnSelectorChange){f=b();if(f!==a){w();a=f;return}}if(i.advanced.updateOnContentResize){c=[u.height(),u.width(),o.height(),o.width(),n.height(),n.width()];if(c[0]!==l[0]||c[1]!==l[1]||c[2]!==l[2]||c[3]!==l[3]||c[4]!==l[4]||c[5]!==l[5]){w();l=c}}if(i.advanced.updateOnImageLoad){p=g();if(p!==h){u.find("img").each(function(){y(this.src)});h=p}}if(i.advanced.updateOnSelectorChange||i.advanced.updateOnContentResize||i.advanced.updateOnImageLoad){m()}},60)}function g(){var e=0;if(i.advanced.updateOnImageLoad){e=u.find("img").length}return e}function y(e){function n(e,t){return function(){return t.apply(e,arguments)}}function r(){this.onload=null;w()}var t=new Image;t.onload=n(t,r);t.src=e}function b(){if(i.advanced.updateOnSelectorChange===true){i.advanced.updateOnSelectorChange="*"}var t=0,n=u.find(i.advanced.updateOnSelectorChange);if(i.advanced.updateOnSelectorChange&&n.length>0){n.each(function(){t+=e(this).height()+e(this).width()})}return t}function w(){clearTimeout(u[0].autoUpdate);d.update.call(null,n[0])}var n=e(this),r=n.data(s),i=r.opt,o=e("#mTS_"+r.idx),u=e("#mTS_"+r.idx+"_container");if(t){clearTimeout(u[0].autoUpdate);v._delete.call(null,u[0].autoUpdate);return}var a=b(),f,l=[u.height(),u.width(),o.height(),o.width(),n.height(),n.width()],c,h=g(),p;m()},_stop:function(t){var n=t.data(s),r=e("#mTS_"+n.idx+"_container");r.each(function(){v._stopTween.call(this)})},_scrollTo:function(t,n,r){function E(e){return i&&o.callbacks[e]&&typeof o.callbacks[e]==="function"}function S(){return[o.callbacks.alwaysTriggerOffsets||p>=d+g,o.callbacks.alwaysTriggerOffsets||p<=-y]}function x(){var e=[f[0].offsetTop,f[0].offsetLeft],n=[f.height(),f.width()],i=[a.height(),a.width()];t[0].mts={content:f,top:e[0],left:e[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(n[0])-i[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(n[1])-i[1])),direction:r.dir}}var i=t.data(s),o=i.opt,u={trigger:"internal",dir:"y",easing:"easeOut",dur:o.speed*60,overwrite:"all",callbacks:true,onStart:true,onUpdate:true,onComplete:true},r=e.extend(u,r),a=e("#mTS_"+i.idx),f=e("#mTS_"+i.idx+"_container"),l=o.callbacks.onTotalScrollOffset?v._arr.call(t,o.callbacks.onTotalScrollOffset):[0,0],c=o.callbacks.onTotalScrollBackOffset?v._arr.call(t,o.callbacks.onTotalScrollBackOffset):[0,0];i.trigger=r.trigger;if(a.scrollTop()!==0||a.scrollLeft()!==0){a.scrollTop(0).scrollLeft(0)}switch(r.dir){case"x":var h="left",p=f[0].offsetLeft,d=a.width()-f.width(),m=n,g=l[1],y=c[1],b=g>0?g:0,w=y>0?y:0;break;case"y":var h="top",p=f[0].offsetTop,d=a.height()-f.height(),m=n,g=l[0],y=c[0],b=g>0?g:0,w=y>0?y:0;break}if(m>=0){m=0;v._buttonsVisibility.call(t,false,1,r.dir)}else if(m<=d){m=d;v._buttonsVisibility.call(t,false,2,r.dir)}else{m=m;v._buttonsVisibility.call(t,false,0,r.dir)}if(!t[0].mts){x();if(E("onInit")){o.callbacks.onInit.call(t[0])}}clearTimeout(f[0].onCompleteTimeout);if(!i.tweenRunning&&(p===0&&m>=0||p===d&&m<=d)){return}v._tweenTo.call(null,f[0],h,Math.round(m),r.dur,r.easing,r.overwrite,{onStart:function(){if(r.callbacks&&r.onStart&&!i.tweenRunning){if(E("onScrollStart")){x();o.callbacks.onScrollStart.call(t[0])}i.tweenRunning=true;i.cbOffsets=S()}},onUpdate:function(){if(r.callbacks&&r.onUpdate){if(E("whileScrolling")){x();o.callbacks.whileScrolling.call(t[0])}}},onComplete:function(){if(r.callbacks&&r.onComplete){if(o.axis==="yx"){clearTimeout(f[0].onCompleteTimeout)}var e=f[0].idleTimer||0;f[0].onCompleteTimeout=setTimeout(function(){if(E("onScroll")){x();o.callbacks.onScroll.call(t[0])}if(E("onTotalScroll")&&m<=d+b&&i.cbOffsets[0]){x();o.callbacks.onTotalScroll.call(t[0])}if(E("onTotalScrollBack")&&m>=-w&&i.cbOffsets[1]){x();o.callbacks.onTotalScrollBack.call(t[0])}i.tweenRunning=false;f[0].idleTimer=0},e)}}})},_tweenTo:function(e,n,r,i,s,o,u){function w(){if(y.stop){return}if(!p){a.call()}p=v._getTime()-c;E();if(p>=y.time){y.time=p>y.time?p+h-(p-y.time):p+h-1;if(y.time<p+1){y.time=p+1}}if(y.time<i){y.id=g(w)}else{l.call()}}function E(){if(i>0){y.currVal=T(y.time,d,b,i,s);m[n]=Math.round(y.currVal)+"px"}else{m[n]=r+"px"}f.call()}function S(){h=1e3/60;y.time=p+h;g=!t.requestAnimationFrame?function(e){E();return setTimeout(e,.01)}:t.requestAnimationFrame;y.id=g(w)}function x(){if(y.id==null){return}if(!t.requestAnimationFrame){clearTimeout(y.id)}else{t.cancelAnimationFrame(y.id)}y.id=null}function T(e,t,n,r,i){switch(i){case"linear":return n*e/r+t;break;case"linearOut":e/=r;e--;return n*Math.sqrt(1-e*e)+t;break;case"easeInOutSmooth":e/=r/2;if(e<1)return n/2*e*e+t;e--;return-n/2*(e*(e-2)-1)+t;break;case"easeInOutStrong":e/=r/2;if(e<1)return n/2*Math.pow(2,10*(e-1))+t;e--;return n/2*(-Math.pow(2,-10*e)+2)+t;break;case"easeInOut":e/=r/2;if(e<1)return n/2*e*e*e+t;e-=2;return n/2*(e*e*e+2)+t;break;case"easeOutSmooth":e/=r;e--;return-n*(e*e*e*e-1)+t;break;case"easeOutStrong":return n*(-Math.pow(2,-10*e/r)+1)+t;break;case"easeOut":default:var s=(e/=r)*e,o=s*e;return t+n*(.499999999999997*o*s+ -2.5*s*s+5.5*o+ -6.5*s+4*e)}}if(!e._malihuTween){e._malihuTween={top:{},left:{}}}var u=u||{},a=u.onStart||function(){},f=u.onUpdate||function(){},l=u.onComplete||function(){},c=v._getTime(),h,p=0,d=e.offsetTop,m=e.style,g,y=e._malihuTween[n];if(n==="left"){d=e.offsetLeft}var b=r-d;y.stop=0;if(o!=="none"){x()}S()},_getTime:function(){if(t.performance&&t.performance.now){return t.performance.now()}else{if(t.performance&&t.performance.webkitNow){return t.performance.webkitNow()}else{if(Date.now){return Date.now()}else{return(new Date).getTime()}}}},_stopTween:function(){var e=this;if(!e._malihuTween){e._malihuTween={top:{},left:{}}}if(e._malihuTween.top.id){if(!t.requestAnimationFrame){clearTimeout(e._malihuTween.top.id)}else{t.cancelAnimationFrame(e._malihuTween.top.id)}e._malihuTween.top.id=null;e._malihuTween.top.stop=1}if(e._malihuTween.left.id){if(!t.requestAnimationFrame){clearTimeout(e._malihuTween.left.id)}else{t.cancelAnimationFrame(e._malihuTween.left.id)}e._malihuTween.left.id=null;e._malihuTween.left.stop=1}},_delete:function(e){try{delete e}catch(t){e=null}},_mouseBtnLeft:function(e){return!(e.which&&e.which!==1)},_pointerTouch:function(e){var t=e.originalEvent.pointerType;return!(t&&t!=="touch"&&t!==2)},_isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}};e.fn[i]=function(t){if(d[t]){return d[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return d.init.apply(this,arguments)}else{e.error("Method "+t+" does not exist")}};e[i]=function(t){if(d[t]){return d[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return d.init.apply(this,arguments)}else{e.error("Method "+t+" does not exist")}};e[i].defaults=u;t[i]=true;e(t).load(function(){e(o)[i]();e(o+"-y")[i]({axis:"y"});e(o+"-yx")[i]({axis:"yx"})})})(jQuery,window,document)